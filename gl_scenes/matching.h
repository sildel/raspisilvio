///////////////////////////////////////////////////////////////////////////////////////////////////
//Jorge Silvio Delgado Morales
//silviodelgado70
///////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef MATCHING_H
#define MATCHING_H
///////////////////////////////////////////////////////////////////////////////////////////////////
#include "RaspiTex.h"
//////////////////////////////////////////////////////////////////////////////////////////////////

typedef struct {
    float xb1, xb2;
    float xt1, xt2;
    float y1, y2;
} HEADING_REGIONS;
//////////////////////////////////////////////////////////////////////////////////////////////////

typedef struct {
    int bins[257];
    int bin_width;
    int count;
} HISTOGRAM;
//////////////////////////////////////////////////////////////////////////////////////////////////
int matching_open(RASPITEX_STATE *state);
void LoadShadersFromFiles();
void InitHist(HISTOGRAM *, int);
void WriteHistToTexture(HISTOGRAM *, HISTOGRAM *, uint8_t *);
int getFilteredValue(HISTOGRAM *, int);
///////////////////////////////////////////////////////////////////////////////////////////////////
extern int render_id;
extern int hue_umbral;
extern int intensity_umbral;
extern int hue_threshold;
extern int intensity_threshold;
extern HEADING_REGIONS heads;
///////////////////////////////////////////////////////////////////////////////////////////////////
#endif /* MATCHING_H */
///////////////////////////////////////////////////////////////////////////////////////////////////
